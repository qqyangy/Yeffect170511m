/**鼠标滚轮库***/
(function($){var types=['DOMMouseScroll','mousewheel'];if($.event.fixHooks){for(var i=types.length;i;){$.event.fixHooks[types[--i]]=$.event.mouseHooks}}$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;i;){this.addEventListener(types[--i],handler,false)}}else{this.onmousewheel=handler}},teardown:function(){if(this.removeEventListener){for(var i=types.length;i;){this.removeEventListener(types[--i],handler,false)}}else{this.onmousewheel=null}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")},unmousewheel:function(fn){return this.unbind("mousewheel",fn)}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;event=$.event.fix(orgEvent);event.type="mousewheel";if(orgEvent.wheelDelta){delta=orgEvent.wheelDelta/120}if(orgEvent.detail){delta=-orgEvent.detail/3}deltaY=delta;if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;deltaX=-1*delta}if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120}if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120}args.unshift(event,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args)}})(jQuery);
/*class,require*/
var Yeffect={class:function (className,packge){packge=packge||window;if(packge.constructor!=Object){packge=window;};var reg=/^[A-Z]+\w{0,}$/;if(!reg.test(className)){alert("请以首字符为大写字母的英文或数字组成的字符串为类名！");return;};return {constructor:function(fn){if(fn.constructor!=Function){alert("构造函数必须以函数形式存在!");return;};var wpar=[];packge[className]=fn;var d=packge[className];d.isClass="Yclass";d.parents=[];d._callName=className;var p = null,o = d.prototype,h = {};o.toString=function(){return "[Object "+className+"]";};return {extends:function(parentClass,par){parentClass=parentClass||false;if(parentClass){if(parentClass["isClass"]!="Yclass"){alert("父类必须为class方法所创建的!");return;};wpar=par||[];if(wpar.constructor!=Array){alert("第二个参数必须以数组形式传入!");return;};/****注入apply方法****/var rega=/^function.[^\{]+\{/;var funSting=fn.toString();var search=rega.exec(funSting)[0];var funStingA=funSting.replace(search,"");search=search.replace("function","function "+className);var rNote = /(\/\/.{0,})|(\/\*(.|\s)*?\*\/)/g; /**匹配单行或多行注释**/funStingA=funStingA.replace(rNote,"");var supreg=/\s_super\(/;if(supreg.test(funStingA)){var spustr="var _superthis=this;function _super(){"+"var wpar=[];"+"for(var i=0;i<arguments.length;i++){"+"wpar.push(arguments[i]);"+"};"+"parentClass.apply(_superthis,wpar);"+"};";funSting=search+spustr+funStingA;}else{funSting=search+"parentClass.apply(this);"+funStingA;};eval(funSting);packge[className]=eval(className);d=packge[className];o = d.prototype;d.isClass="Yclass";d._callName=className;o.toString=function(){return "[Object "+className+"]";};d.parents=parentClass.parents.concat([parentClass._callName]);var pr=parentClass.prototype;for(var s in parentClass){if(!d[s]){d[s]=parentClass[s];}};for(p in pr){if(!o[p]){o[p]=pr[p];}};};return this;},static:function(obj){if(obj.constructor!=Object){alert("静态属性或方法必须以Object的形式传入!");return;};for(n in obj){if(n!="_callName"){d[n]=obj[n];}};return this;},prototype:function(obj){if(obj.constructor!=Object){alert("原型链上的的属性或方法必须以Object的形式传入!");return;};for(n in obj){d.prototype[n]=obj[n];};return this;}};}};},require:function (BasicsUrl,debug) {var saveDefineCall=false;/*****临时保存载入函数的方法******/var saveKeyAndFn={};/*******保存所有在入的方法与url的key对应********/var firstFn=false;/****自动调用的入口函数****/var loadlength=0;/****需要引入js的数量****/BasicsUrl=BasicsUrl||'';/****基础路劲****/var treeInfo={};/**保存数结构***/var treeParent=false;/***临时保存当前结构树对象****/debug=debug||false;/****是否开启debug模式****/function setURlstr(s) {var bascop=BasicsUrl;var basFir='';if(bascop.length>0){if(bascop.substr(0,1)=='/'){basFir='/';bascop=bascop.substr(1,bascop.length-1)}};if(bascop.length>1){if(bascop.substr(0,2)=='./'){bascop=bascop.substr(2,bascop.length-2)}};var b=bascop;var s1=s.substr(0,1);var s2=s.substr(0,2);var s3=s.split('../');if(s1=='/'){b='';}else if(s2=='./'){s=s.split('./')[1];}else if(s3.length>1){var sg=s.split('../');var sgl=sg.length-1;var bg=bascop.split('../');var bgl=bg.length-1;var blast=bg[bg.length-1];var blastA=blast.split('/');var blastAl=blastA.length-1;if(blastAl>sgl){var bsx=basFir;for(var j=0;j<bgl;j++){bsx+='../';};b=bsx+blastA.splice(0,blastAl-sgl).join('/')+'/';s=sg[sg.length-1];}else{var cl=sgl-blastAl+bgl;var bs='';for(var i=0;i<cl;i++){bs+='../';};b=basFir+bs;if(basFir=='/' && cl>0){b='/';};s=sg[sg.length-1];}};return b+s;};/*****转化结构树函数*****/function treeTostring() {var logtree='';function eh(tree,tab) {var log='\n';for(var k in tree){log+=tab;log+=k;log+=eh(tree[k],tab+'　　')};return log;};logtree=eh(treeInfo,'');return logtree;};function geturlrequire(s,f,p) {if(!p){p=f;f='';};var url=s;if(f==''){if(s.length>3){if(s.substr(s.length-3,s.length)!='.js'){url=s+'.js';}}else{url=s+'.js';}}else{url=s+'.'+f;};var key=url;/***保存对象树key名***/url=setURlstr(url);if(saveKeyAndFn[url]){return;};var script=document.createElement("script");saveDefineCall=false;script.onload=function () {if(saveDefineCall){saveKeyAndFn[url]=saveDefineCall;if(treeParent){p[key]=treeParent;}else{p[key]=false;};saveDefineCall=false;};document.head.removeChild(script);loadlength--;if(loadlength==0){actionfirst();/***加载完成进入程序***/}};script.onerror=function () {saveKeyAndFn[url]=false;p[key]={};document.head.removeChild(script);loadlength--;if(loadlength==0){actionfirst();/***加载完成进入程序***/};if(debug){console.log('%c有JS加载失败请注意报错信息,当前结构树为 ', 'background-image:-webkit-gradient( linear, left top, right top, color-stop(0, #f22), color-stop(0.15, #f2f), color-stop(0.3, #22f), color-stop(0.45, #2ff), color-stop(0.6, #2f2),color-stop(0.75, #2f2), color-stop(0.9, #ff2), color-stop(1, #f22) );color:transparent;-webkit-background-clip: text;font-size:30px;');var treeStr = treeTostring();console.log('%c' + treeStr, 'background:#ff0;font-size:20px; color:#000;');throw key+'文件载入出错请仔细检查!';}};document.head.appendChild(script);script.src=url;};function requireurl(fns,parent) {var reg=/\brequire\(.*\)/g;var result='';while ((result = reg.exec(fns)) != null){loadlength++;eval('geturl'+result[0].split(')')[0]+',parent)');/***获取单个url****/}};function actionfirst() {firstFn();/***没有需要加载项目直接进入程序***/if(debug) {var treeStr = treeTostring();console.log('%cRequire结构树为：', 'font-size:20px;font-weight: bold; color:#03f;');console.log('%c' + treeStr, 'background:#ff0;font-size:20px; color:#000;')}};function define(fn) {if(fn && fn.constructor!=Function){treeParent={};saveDefineCall={fn:function () {return fn;},exports:{}};return;};/***处理参数***/var fns=fn.toString();var loaders=[];var rNote = /(\/\/.*\brequire\b.*[\r\n])|(\/\*(.|\s)*?\*\/)/g; /**匹配单行或多行注释**/fns=fns.replace(rNote,"");if(!firstFn){var href=window.location.href.split('/')};treeParent={};requireurl(fns,treeParent);/****载入依赖******//******注入exports******/var exports={};fns=fns.substr(0,fns.length-1)+';return exports;}';var fn1=eval('('+fns+')');if(!firstFn){treeInfo['入口文件']=treeParent;/***设置更节点****/firstFn=fn1;/****设置入口函数***/if(loadlength==0){actionfirst();/***没有需要加载项目直接进入程序***/}}else{saveDefineCall={fn:fn1,exports:exports}};};function require(s,f) {var url=s;if(!f || f==''){if(s.length>3){if(s.substr(s.length-3,s.length)!='.js'){url=s+'.js';}}else{url=s+'.js';}}else{url=s+'.'+f;};url=setURlstr(url);var fncontent=saveKeyAndFn[url]||{fn:function () {return {}},exports:{}};var fn=fncontent.fn;if(fn){return fn()}else{return {}};};return define;}};