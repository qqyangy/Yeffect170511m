<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui">
<meta name="description" content="">
<meta name="author" content="">
<title>图像裁剪</title>
<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
<!--<script type="text/javascript" src="js/Yeffect16_1214.min.js"></script>-->
<style>
	.g_main{margin-bottom:0;}
</style>
</head>
<body>



<script>
	/*class*/
	var Yeffect={class:function (className){var reg=/^[A-Z]+\w{0,}$/;if(!reg.test(className)){alert("请以首字符为大写字母的英文或数字组成的字符串为类名！");return;};return {constructor:function(fn){if(fn.constructor!=Function){alert("构造函数必须以函数形式存在!");return;};var wpar=[];window[className]=fn;var d=window[className];d.isClass="Yclass";d.parents=[];d._callName=className;var p = null,o = d.prototype,h = {};o.toString=function(){return "[Object "+className+"]";};return {extends:function(parentClass,par){parentClass=parentClass||false;if(parentClass){if(parentClass["isClass"]!="Yclass"){alert("父类必须为class方法所创建的!");return;};wpar=par||[];if(wpar.constructor!=Array){alert("第二个参数必须以数组形式传入!");return;};/****注入apply方法****/var rega=/^function.[^\{]+\{/;var funSting=fn.toString();var search=rega.exec(funSting)[0];var funStingA=funSting.replace(search,"");search=search.replace("function","function "+className);var rNote = /(\/\/.{0,})|(\/\*(.|\s)*?\*\/)/g; /**匹配单行或多行注释**/funStingA=funStingA.replace(rNote,"");var supreg=/\s_super\(/;if(supreg.test(funStingA)){var spustr="var _superthis=this;function _super(){"+"var wpar=[];"+"for(var i=0;i<arguments.length;i++){"+"wpar.push(arguments[i]);"+"};"+"parentClass.apply(_superthis,wpar);"+"};";funSting=search+spustr+funStingA;}else{funSting=search+"parentClass.apply(this);"+funStingA;};eval(funSting);window[className]=eval(className);d=window[className];o = d.prototype;d.isClass="Yclass";d._callName=className;o.toString=function(){return "[Object "+className+"]";};d.parents=parentClass.parents.concat([parentClass._callName]);var pr=parentClass.prototype;for(var s in parentClass){if(!d[s]){d[s]=parentClass[s];}};for(p in pr){if(!o[p]){o[p]=pr[p];}};};return this;},static:function(obj){if(obj.constructor!=Object){alert("静态属性或方法必须以Object的形式传入!");return;};for(n in obj){if(n!="_callName"){d[n]=obj[n];}};return this;},prototype:function(obj){if(obj.constructor!=Object){alert("原型链上的的属性或方法必须以Object的形式传入!");return;};for(n in obj){d.prototype[n]=obj[n];};return this;}};}};}};




	Yeffect.class("Parent").constructor(function(a1,a2){
		alert(arguments)
		this.abc=10;
		this.abc1=20;
		this.agma=a1;
		this.b=21;
		this.a2=a2;

	}).static({
		a:10,
		b:20,
		c:30
	}).prototype({
		af:function(){
			alert(this.a);
		},
		bf:function(){
			alert(this.b);
		},
		cf:function(){
			this.c;
		}
	});


	Yeffect.class("Child").constructor(function(){
		//Parent.apply(this);
		/*alert(111);
		// alert(2)
		* */
		//alert(this.constructor.name)
		this.obj={asbd:function(){alert("+++++0")}};
		_super(1122,100);
		this.a=10;
		this.a2=1230;
		function bbasd(){};

		//this.b=20;
				/*alert(111111111111)*/
		/*
		 asdsadsad
		*/
	}).extends(Parent).static({
		a:"b10"
	}).prototype({

	})

	Yeffect.class("Child2").constructor(function(){
		_super();
	}).extends(Child).static({
		a:"b10"
	}).prototype({

	});







	var no=new Child2(123);
	//no.bf();
	no.obj.asbd();
	alert(Child2.parents)
	alert(no.a2)
	alert(no.toString())







</script>



</body>
</html>
